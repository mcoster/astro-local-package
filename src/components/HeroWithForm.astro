---
export interface Props {
  title?: string;
  subtitle?: string;
  backgroundImage?: string;
  overlayOpacity?: number;
  formTitle?: string;
  formDescription?: string;
}

import { siteConfig } from '@/config/site';
import QuoteForm from './QuoteForm.astro';

const {
  title = `Welcome to ${siteConfig.businessName}`,
  subtitle = siteConfig.tagline,
  backgroundImage = '/images/hero-bg.jpg',
  overlayOpacity = 0.7,
  formTitle = 'Get a FREE Quote Today!',
  formDescription = '',
} = Astro.props;
---

<section class="hero-with-form relative overflow-hidden">
  <!-- Background Image -->
  <div class="absolute inset-0 z-0">
    <img
      src={backgroundImage}
      alt="Hero background"
      class="h-full w-full object-cover"
      loading="eager"
    />
    <!-- Gradient Overlay -->
    <div 
      class="absolute inset-0"
      style="background: linear-gradient(to right, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.2) 100%);"
    ></div>
  </div>
  
  <!-- Content Container -->
  <div class="relative z-10 px-4 py-8 sm:py-10 lg:py-12">
    <div class="max-w-7xl mx-auto">
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-12 items-center">
        
        <!-- Hero Content (60% on desktop) -->
        <div class="lg:col-span-3 text-center lg:text-left">
          <h1 class="hero-title text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6">
            {title}
          </h1>
          <p class="hero-subtitle text-xl md:text-2xl text-gray-100 mb-8">
            {subtitle}
          </p>
          
          <!-- Mobile CTA - hidden on desktop -->
          <div class="lg:hidden mb-8">
            <a
              href={`tel:${siteConfig.formattedPhone}`}
              class="inline-flex items-center justify-center btn-cta-primary"
            >
              Call {siteConfig.phone}
            </a>
          </div>
        </div>
        
        <!-- Quote Form (40% on desktop) -->
        <div class="lg:col-span-2">
          <QuoteForm 
            formTitle={formTitle}
            formDescription={formDescription}
            standalone={false}
          />
        </div>
        
      </div>
    </div>
  </div>
</section>

<style>
  .hero-with-form {
    min-height: 450px;
  }
  
  @media (min-width: 768px) {
    .hero-with-form {
      min-height: 480px;
    }
  }
  
  @media (min-width: 1024px) {
    .hero-with-form {
      min-height: 450px;
    }
  }
  
  /* Subtle text shadows for improved readability */
  .hero-title {
    text-shadow: 
      0 2px 4px rgba(0,0,0,0.3),
      0 4px 8px rgba(0,0,0,0.15);
  }
  
  .hero-subtitle {
    text-shadow: 0 1px 3px rgba(0,0,0,0.25);
  }
  
  .hero-service-areas {
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
  }
</style>